/*
** NOTE: This file is generated by Gulp and should not be edited directly!
** Any changes made directly to this file will be overwritten next time its asset group is processed by Gulp.
*/

/*!
 * FullCalendar v3.1.0 Google Calendar Plugin
 * Docs & License: http://fullcalendar.io/
 * (c) 2016 Adam Shaw
 */
 
(function(factory) {
	if (typeof define === 'function' && define.amd) {
		define([ 'jquery' ], factory);
	}
	else if (typeof exports === 'object') { // Node/CommonJS
		module.exports = factory(require('jquery'));
	}
	else {
		factory(jQuery);
	}
})(function($) {


var API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';
var FC = $.fullCalendar;
var applyAll = FC.applyAll;


FC.sourceNormalizers.push(function(sourceOptions) {
	var googleCalendarId = sourceOptions.googleCalendarId;
	var url = sourceOptions.url;
	var match;

	// if the Google Calendar ID hasn't been explicitly defined
	if (!googleCalendarId && url) {

		// detect if the ID was specified as a single string.
		// will match calendars like "asdf1234@calendar.google.com" in addition to person email calendars.
		if (/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(url)) {
			googleCalendarId = url;
		}
		// try to scrape it out of a V1 or V3 API feed URL
		else if (
			(match = /^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(url)) ||
			(match = /^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(url))
		) {
			googleCalendarId = decodeURIComponent(match[1]);
		}

		if (googleCalendarId) {
			sourceOptions.googleCalendarId = googleCalendarId;
		}
	}


	if (googleCalendarId) { // is this a Google Calendar?

		// make each Google Calendar source uneditable by default
		if (sourceOptions.editable == null) {
			sourceOptions.editable = false;
		}

		// We want removeEventSource to work, but it won't know about the googleCalendarId primitive.
		// Shoehorn it into the url, which will function as the unique primitive. Won't cause side effects.
		// This hack is obsolete since 2.2.3, but keep it so this plugin file is compatible with old versions.
		sourceOptions.url = googleCalendarId;
	}
});


FC.sourceFetchers.push(function(sourceOptions, start, end, timezone) {
	if (sourceOptions.googleCalendarId) {
		return transformOptions(sourceOptions, start, end, timezone, this); // `this` is the calendar
	}
});


function transformOptions(sourceOptions, start, end, timezone, calendar) {
	var url = API_BASE + '/' + encodeURIComponent(sourceOptions.googleCalendarId) + '/events?callback=?'; // jsonp
	var apiKey = sourceOptions.googleCalendarApiKey || calendar.options.googleCalendarApiKey;
	var success = sourceOptions.success;
	var data;
	var timezoneArg; // populated when a specific timezone. escaped to Google's liking

	function reportError(message, apiErrorObjs) {
		var errorObjs = apiErrorObjs || [ { message: message } ]; // to be passed into error handlers

		// call error handlers
		(sourceOptions.googleCalendarError || $.noop).apply(calendar, errorObjs);
		(calendar.options.googleCalendarError || $.noop).apply(calendar, errorObjs);

		// print error to debug console
		FC.warn.apply(null, [ message ].concat(apiErrorObjs || []));
	}

	if (!apiKey) {
		reportError("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/");
		return {}; // an empty source to use instead. won't fetch anything.
	}

	// The API expects an ISO8601 datetime with a time and timezone part.
	// Since the calendar's timezone offset isn't always known, request the date in UTC and pad it by a day on each
	// side, guaranteeing we will receive all events in the desired range, albeit a superset.
	// .utc() will set a zone and give it a 00:00:00 time.
	if (!start.hasZone()) {
		start = start.clone().utc().add(-1, 'day');
	}
	if (!end.hasZone()) {
		end = end.clone().utc().add(1, 'day');
	}

	// when sending timezone names to Google, only accepts underscores, not spaces
	if (timezone && timezone != 'local') {
		timezoneArg = timezone.replace(' ', '_');
	}

	data = $.extend({}, sourceOptions.data || {}, {
		key: apiKey,
		timeMin: start.format(),
		timeMax: end.format(),
		timeZone: timezoneArg,
		singleEvents: true,
		maxResults: 9999
	});

	return $.extend({}, sourceOptions, {
		googleCalendarId: null, // prevents source-normalizing from happening again
		url: url,
		data: data,
		startParam: false, // `false` omits this parameter. we already included it above
		endParam: false, // same
		timezoneParam: false, // same
		success: function(data) {
			var events = [];
			var successArgs;
			var successRes;

			if (data.error) {
				reportError('Google Calendar API: ' + data.error.message, data.error.errors);
			}
			else if (data.items) {
				$.each(data.items, function(i, entry) {
					var url = entry.htmlLink || null;

					// make the URLs for each event show times in the correct timezone
					if (timezoneArg && url !== null) {
						url = injectQsComponent(url, 'ctz=' + timezoneArg);
					}

					events.push({
						id: entry.id,
						title: entry.summary,
						start: entry.start.dateTime || entry.start.date, // try timed. will fall back to all-day
						end: entry.end.dateTime || entry.end.date, // same
						url: url,
						location: entry.location,
						description: entry.description
					});
				});

				// call the success handler(s) and allow it to return a new events array
				successArgs = [ events ].concat(Array.prototype.slice.call(arguments, 1)); // forward other jq args
				successRes = applyAll(success, this, successArgs);
				if ($.isArray(successRes)) {
					return successRes;
				}
			}

			return events;
		}
	});
}


// Injects a string like "arg=value" into the querystring of a URL
function injectQsComponent(url, component) {
	// inject it after the querystring but before the fragment
	return url.replace(/(\?.*?)?(#|$)/, function(whole, qs, hash) {
		return (qs ? qs + '&' : '?') + component + hash;
	});
}


});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdjYWwuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEFBTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2NhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogRnVsbENhbGVuZGFyIHYzLjEuMCBHb29nbGUgQ2FsZW5kYXIgUGx1Z2luXG4gKiBEb2NzICYgTGljZW5zZTogaHR0cDovL2Z1bGxjYWxlbmRhci5pby9cbiAqIChjKSAyMDE2IEFkYW0gU2hhd1xuICovXG4gXG4oZnVuY3Rpb24oZmFjdG9yeSkge1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKFsgJ2pxdWVyeScgXSwgZmFjdG9yeSk7XG5cdH1cblx0ZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUvQ29tbW9uSlNcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGZhY3RvcnkoalF1ZXJ5KTtcblx0fVxufSkoZnVuY3Rpb24oJCkge1xuXG5cbnZhciBBUElfQkFTRSA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9jYWxlbmRhci92My9jYWxlbmRhcnMnO1xudmFyIEZDID0gJC5mdWxsQ2FsZW5kYXI7XG52YXIgYXBwbHlBbGwgPSBGQy5hcHBseUFsbDtcblxuXG5GQy5zb3VyY2VOb3JtYWxpemVycy5wdXNoKGZ1bmN0aW9uKHNvdXJjZU9wdGlvbnMpIHtcblx0dmFyIGdvb2dsZUNhbGVuZGFySWQgPSBzb3VyY2VPcHRpb25zLmdvb2dsZUNhbGVuZGFySWQ7XG5cdHZhciB1cmwgPSBzb3VyY2VPcHRpb25zLnVybDtcblx0dmFyIG1hdGNoO1xuXG5cdC8vIGlmIHRoZSBHb29nbGUgQ2FsZW5kYXIgSUQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBkZWZpbmVkXG5cdGlmICghZ29vZ2xlQ2FsZW5kYXJJZCAmJiB1cmwpIHtcblxuXHRcdC8vIGRldGVjdCBpZiB0aGUgSUQgd2FzIHNwZWNpZmllZCBhcyBhIHNpbmdsZSBzdHJpbmcuXG5cdFx0Ly8gd2lsbCBtYXRjaCBjYWxlbmRhcnMgbGlrZSBcImFzZGYxMjM0QGNhbGVuZGFyLmdvb2dsZS5jb21cIiBpbiBhZGRpdGlvbiB0byBwZXJzb24gZW1haWwgY2FsZW5kYXJzLlxuXHRcdGlmICgvXlteXFwvXStAKFteXFwvXFwuXStcXC4pKihnb29nbGV8Z29vZ2xlbWFpbHxnbWFpbClcXC5jb20kLy50ZXN0KHVybCkpIHtcblx0XHRcdGdvb2dsZUNhbGVuZGFySWQgPSB1cmw7XG5cdFx0fVxuXHRcdC8vIHRyeSB0byBzY3JhcGUgaXQgb3V0IG9mIGEgVjEgb3IgVjMgQVBJIGZlZWQgVVJMXG5cdFx0ZWxzZSBpZiAoXG5cdFx0XHQobWF0Y2ggPSAvXmh0dHBzOlxcL1xcL3d3dy5nb29nbGVhcGlzLmNvbVxcL2NhbGVuZGFyXFwvdjNcXC9jYWxlbmRhcnNcXC8oW15cXC9dKikvLmV4ZWModXJsKSkgfHxcblx0XHRcdChtYXRjaCA9IC9eaHR0cHM/OlxcL1xcL3d3dy5nb29nbGUuY29tXFwvY2FsZW5kYXJcXC9mZWVkc1xcLyhbXlxcL10qKS8uZXhlYyh1cmwpKVxuXHRcdCkge1xuXHRcdFx0Z29vZ2xlQ2FsZW5kYXJJZCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSk7XG5cdFx0fVxuXG5cdFx0aWYgKGdvb2dsZUNhbGVuZGFySWQpIHtcblx0XHRcdHNvdXJjZU9wdGlvbnMuZ29vZ2xlQ2FsZW5kYXJJZCA9IGdvb2dsZUNhbGVuZGFySWQ7XG5cdFx0fVxuXHR9XG5cblxuXHRpZiAoZ29vZ2xlQ2FsZW5kYXJJZCkgeyAvLyBpcyB0aGlzIGEgR29vZ2xlIENhbGVuZGFyP1xuXG5cdFx0Ly8gbWFrZSBlYWNoIEdvb2dsZSBDYWxlbmRhciBzb3VyY2UgdW5lZGl0YWJsZSBieSBkZWZhdWx0XG5cdFx0aWYgKHNvdXJjZU9wdGlvbnMuZWRpdGFibGUgPT0gbnVsbCkge1xuXHRcdFx0c291cmNlT3B0aW9ucy5lZGl0YWJsZSA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIFdlIHdhbnQgcmVtb3ZlRXZlbnRTb3VyY2UgdG8gd29yaywgYnV0IGl0IHdvbid0IGtub3cgYWJvdXQgdGhlIGdvb2dsZUNhbGVuZGFySWQgcHJpbWl0aXZlLlxuXHRcdC8vIFNob2Vob3JuIGl0IGludG8gdGhlIHVybCwgd2hpY2ggd2lsbCBmdW5jdGlvbiBhcyB0aGUgdW5pcXVlIHByaW1pdGl2ZS4gV29uJ3QgY2F1c2Ugc2lkZSBlZmZlY3RzLlxuXHRcdC8vIFRoaXMgaGFjayBpcyBvYnNvbGV0ZSBzaW5jZSAyLjIuMywgYnV0IGtlZXAgaXQgc28gdGhpcyBwbHVnaW4gZmlsZSBpcyBjb21wYXRpYmxlIHdpdGggb2xkIHZlcnNpb25zLlxuXHRcdHNvdXJjZU9wdGlvbnMudXJsID0gZ29vZ2xlQ2FsZW5kYXJJZDtcblx0fVxufSk7XG5cblxuRkMuc291cmNlRmV0Y2hlcnMucHVzaChmdW5jdGlvbihzb3VyY2VPcHRpb25zLCBzdGFydCwgZW5kLCB0aW1lem9uZSkge1xuXHRpZiAoc291cmNlT3B0aW9ucy5nb29nbGVDYWxlbmRhcklkKSB7XG5cdFx0cmV0dXJuIHRyYW5zZm9ybU9wdGlvbnMoc291cmNlT3B0aW9ucywgc3RhcnQsIGVuZCwgdGltZXpvbmUsIHRoaXMpOyAvLyBgdGhpc2AgaXMgdGhlIGNhbGVuZGFyXG5cdH1cbn0pO1xuXG5cbmZ1bmN0aW9uIHRyYW5zZm9ybU9wdGlvbnMoc291cmNlT3B0aW9ucywgc3RhcnQsIGVuZCwgdGltZXpvbmUsIGNhbGVuZGFyKSB7XG5cdHZhciB1cmwgPSBBUElfQkFTRSArICcvJyArIGVuY29kZVVSSUNvbXBvbmVudChzb3VyY2VPcHRpb25zLmdvb2dsZUNhbGVuZGFySWQpICsgJy9ldmVudHM/Y2FsbGJhY2s9Pyc7IC8vIGpzb25wXG5cdHZhciBhcGlLZXkgPSBzb3VyY2VPcHRpb25zLmdvb2dsZUNhbGVuZGFyQXBpS2V5IHx8IGNhbGVuZGFyLm9wdGlvbnMuZ29vZ2xlQ2FsZW5kYXJBcGlLZXk7XG5cdHZhciBzdWNjZXNzID0gc291cmNlT3B0aW9ucy5zdWNjZXNzO1xuXHR2YXIgZGF0YTtcblx0dmFyIHRpbWV6b25lQXJnOyAvLyBwb3B1bGF0ZWQgd2hlbiBhIHNwZWNpZmljIHRpbWV6b25lLiBlc2NhcGVkIHRvIEdvb2dsZSdzIGxpa2luZ1xuXG5cdGZ1bmN0aW9uIHJlcG9ydEVycm9yKG1lc3NhZ2UsIGFwaUVycm9yT2Jqcykge1xuXHRcdHZhciBlcnJvck9ianMgPSBhcGlFcnJvck9ianMgfHwgWyB7IG1lc3NhZ2U6IG1lc3NhZ2UgfSBdOyAvLyB0byBiZSBwYXNzZWQgaW50byBlcnJvciBoYW5kbGVyc1xuXG5cdFx0Ly8gY2FsbCBlcnJvciBoYW5kbGVyc1xuXHRcdChzb3VyY2VPcHRpb25zLmdvb2dsZUNhbGVuZGFyRXJyb3IgfHwgJC5ub29wKS5hcHBseShjYWxlbmRhciwgZXJyb3JPYmpzKTtcblx0XHQoY2FsZW5kYXIub3B0aW9ucy5nb29nbGVDYWxlbmRhckVycm9yIHx8ICQubm9vcCkuYXBwbHkoY2FsZW5kYXIsIGVycm9yT2Jqcyk7XG5cblx0XHQvLyBwcmludCBlcnJvciB0byBkZWJ1ZyBjb25zb2xlXG5cdFx0RkMud2Fybi5hcHBseShudWxsLCBbIG1lc3NhZ2UgXS5jb25jYXQoYXBpRXJyb3JPYmpzIHx8IFtdKSk7XG5cdH1cblxuXHRpZiAoIWFwaUtleSkge1xuXHRcdHJlcG9ydEVycm9yKFwiU3BlY2lmeSBhIGdvb2dsZUNhbGVuZGFyQXBpS2V5LiBTZWUgaHR0cDovL2Z1bGxjYWxlbmRhci5pby9kb2NzL2dvb2dsZV9jYWxlbmRhci9cIik7XG5cdFx0cmV0dXJuIHt9OyAvLyBhbiBlbXB0eSBzb3VyY2UgdG8gdXNlIGluc3RlYWQuIHdvbid0IGZldGNoIGFueXRoaW5nLlxuXHR9XG5cblx0Ly8gVGhlIEFQSSBleHBlY3RzIGFuIElTTzg2MDEgZGF0ZXRpbWUgd2l0aCBhIHRpbWUgYW5kIHRpbWV6b25lIHBhcnQuXG5cdC8vIFNpbmNlIHRoZSBjYWxlbmRhcidzIHRpbWV6b25lIG9mZnNldCBpc24ndCBhbHdheXMga25vd24sIHJlcXVlc3QgdGhlIGRhdGUgaW4gVVRDIGFuZCBwYWQgaXQgYnkgYSBkYXkgb24gZWFjaFxuXHQvLyBzaWRlLCBndWFyYW50ZWVpbmcgd2Ugd2lsbCByZWNlaXZlIGFsbCBldmVudHMgaW4gdGhlIGRlc2lyZWQgcmFuZ2UsIGFsYmVpdCBhIHN1cGVyc2V0LlxuXHQvLyAudXRjKCkgd2lsbCBzZXQgYSB6b25lIGFuZCBnaXZlIGl0IGEgMDA6MDA6MDAgdGltZS5cblx0aWYgKCFzdGFydC5oYXNab25lKCkpIHtcblx0XHRzdGFydCA9IHN0YXJ0LmNsb25lKCkudXRjKCkuYWRkKC0xLCAnZGF5Jyk7XG5cdH1cblx0aWYgKCFlbmQuaGFzWm9uZSgpKSB7XG5cdFx0ZW5kID0gZW5kLmNsb25lKCkudXRjKCkuYWRkKDEsICdkYXknKTtcblx0fVxuXG5cdC8vIHdoZW4gc2VuZGluZyB0aW1lem9uZSBuYW1lcyB0byBHb29nbGUsIG9ubHkgYWNjZXB0cyB1bmRlcnNjb3Jlcywgbm90IHNwYWNlc1xuXHRpZiAodGltZXpvbmUgJiYgdGltZXpvbmUgIT0gJ2xvY2FsJykge1xuXHRcdHRpbWV6b25lQXJnID0gdGltZXpvbmUucmVwbGFjZSgnICcsICdfJyk7XG5cdH1cblxuXHRkYXRhID0gJC5leHRlbmQoe30sIHNvdXJjZU9wdGlvbnMuZGF0YSB8fCB7fSwge1xuXHRcdGtleTogYXBpS2V5LFxuXHRcdHRpbWVNaW46IHN0YXJ0LmZvcm1hdCgpLFxuXHRcdHRpbWVNYXg6IGVuZC5mb3JtYXQoKSxcblx0XHR0aW1lWm9uZTogdGltZXpvbmVBcmcsXG5cdFx0c2luZ2xlRXZlbnRzOiB0cnVlLFxuXHRcdG1heFJlc3VsdHM6IDk5OTlcblx0fSk7XG5cblx0cmV0dXJuICQuZXh0ZW5kKHt9LCBzb3VyY2VPcHRpb25zLCB7XG5cdFx0Z29vZ2xlQ2FsZW5kYXJJZDogbnVsbCwgLy8gcHJldmVudHMgc291cmNlLW5vcm1hbGl6aW5nIGZyb20gaGFwcGVuaW5nIGFnYWluXG5cdFx0dXJsOiB1cmwsXG5cdFx0ZGF0YTogZGF0YSxcblx0XHRzdGFydFBhcmFtOiBmYWxzZSwgLy8gYGZhbHNlYCBvbWl0cyB0aGlzIHBhcmFtZXRlci4gd2UgYWxyZWFkeSBpbmNsdWRlZCBpdCBhYm92ZVxuXHRcdGVuZFBhcmFtOiBmYWxzZSwgLy8gc2FtZVxuXHRcdHRpbWV6b25lUGFyYW06IGZhbHNlLCAvLyBzYW1lXG5cdFx0c3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0dmFyIGV2ZW50cyA9IFtdO1xuXHRcdFx0dmFyIHN1Y2Nlc3NBcmdzO1xuXHRcdFx0dmFyIHN1Y2Nlc3NSZXM7XG5cblx0XHRcdGlmIChkYXRhLmVycm9yKSB7XG5cdFx0XHRcdHJlcG9ydEVycm9yKCdHb29nbGUgQ2FsZW5kYXIgQVBJOiAnICsgZGF0YS5lcnJvci5tZXNzYWdlLCBkYXRhLmVycm9yLmVycm9ycyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmIChkYXRhLml0ZW1zKSB7XG5cdFx0XHRcdCQuZWFjaChkYXRhLml0ZW1zLCBmdW5jdGlvbihpLCBlbnRyeSkge1xuXHRcdFx0XHRcdHZhciB1cmwgPSBlbnRyeS5odG1sTGluayB8fCBudWxsO1xuXG5cdFx0XHRcdFx0Ly8gbWFrZSB0aGUgVVJMcyBmb3IgZWFjaCBldmVudCBzaG93IHRpbWVzIGluIHRoZSBjb3JyZWN0IHRpbWV6b25lXG5cdFx0XHRcdFx0aWYgKHRpbWV6b25lQXJnICYmIHVybCAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0dXJsID0gaW5qZWN0UXNDb21wb25lbnQodXJsLCAnY3R6PScgKyB0aW1lem9uZUFyZyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZXZlbnRzLnB1c2goe1xuXHRcdFx0XHRcdFx0aWQ6IGVudHJ5LmlkLFxuXHRcdFx0XHRcdFx0dGl0bGU6IGVudHJ5LnN1bW1hcnksXG5cdFx0XHRcdFx0XHRzdGFydDogZW50cnkuc3RhcnQuZGF0ZVRpbWUgfHwgZW50cnkuc3RhcnQuZGF0ZSwgLy8gdHJ5IHRpbWVkLiB3aWxsIGZhbGwgYmFjayB0byBhbGwtZGF5XG5cdFx0XHRcdFx0XHRlbmQ6IGVudHJ5LmVuZC5kYXRlVGltZSB8fCBlbnRyeS5lbmQuZGF0ZSwgLy8gc2FtZVxuXHRcdFx0XHRcdFx0dXJsOiB1cmwsXG5cdFx0XHRcdFx0XHRsb2NhdGlvbjogZW50cnkubG9jYXRpb24sXG5cdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogZW50cnkuZGVzY3JpcHRpb25cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gY2FsbCB0aGUgc3VjY2VzcyBoYW5kbGVyKHMpIGFuZCBhbGxvdyBpdCB0byByZXR1cm4gYSBuZXcgZXZlbnRzIGFycmF5XG5cdFx0XHRcdHN1Y2Nlc3NBcmdzID0gWyBldmVudHMgXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7IC8vIGZvcndhcmQgb3RoZXIganEgYXJnc1xuXHRcdFx0XHRzdWNjZXNzUmVzID0gYXBwbHlBbGwoc3VjY2VzcywgdGhpcywgc3VjY2Vzc0FyZ3MpO1xuXHRcdFx0XHRpZiAoJC5pc0FycmF5KHN1Y2Nlc3NSZXMpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN1Y2Nlc3NSZXM7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50cztcblx0XHR9XG5cdH0pO1xufVxuXG5cbi8vIEluamVjdHMgYSBzdHJpbmcgbGlrZSBcImFyZz12YWx1ZVwiIGludG8gdGhlIHF1ZXJ5c3RyaW5nIG9mIGEgVVJMXG5mdW5jdGlvbiBpbmplY3RRc0NvbXBvbmVudCh1cmwsIGNvbXBvbmVudCkge1xuXHQvLyBpbmplY3QgaXQgYWZ0ZXIgdGhlIHF1ZXJ5c3RyaW5nIGJ1dCBiZWZvcmUgdGhlIGZyYWdtZW50XG5cdHJldHVybiB1cmwucmVwbGFjZSgvKFxcPy4qPyk/KCN8JCkvLCBmdW5jdGlvbih3aG9sZSwgcXMsIGhhc2gpIHtcblx0XHRyZXR1cm4gKHFzID8gcXMgKyAnJicgOiAnPycpICsgY29tcG9uZW50ICsgaGFzaDtcblx0fSk7XG59XG5cblxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
